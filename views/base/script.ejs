<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="/js/common.js"></script>

<script>
  Chart.register(ChartDataLabels);
</script>

<% if (typeof data.window != "undefined") { %>
<script>
  window.data = <%- JSON.stringify(data.window) %>;
</script>
<% } %>

<script>
  $(window).on('pageshow', function (event) {
    if (
      !event.originalEvent.persisted &&
      (!window.performance || window.performance.navigation.type !== 2)
    ) {
      <% if (session.toast) { %>
      toastr.info('<%= session.toast %>');
      <% session.toast = null; %>
      <% } %>

      <% if (session.alert) { %>
      Swal.fire({
        title: '<%= session.alert %>',
        confirmButtonText: '확인',
      });
      <% session.alert = null; %>
      <% } %>
    }
  });
</script>
